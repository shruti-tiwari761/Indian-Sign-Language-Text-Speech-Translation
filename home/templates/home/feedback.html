<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact with Hero Animation</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:700" rel="stylesheet">
  <style>
    /* Reset and Box-Sizing */
    *{
    margin:0;
    padding:0;
    box-sizing: border-box;
    font-family: 'Poppins',sans-serif;
}
@keyframes backgroundChange {
    0% { background-image: url('{% static "home/images/background_resized.jpg" %}'); }
    50% { background-image: url('{% static "home/images/background2_resized.webp" %}'); }
    100% { background-image: url('{% static "home/images/background_resized.jpg" %}'); }
}


body {
    height: 100vh;
    margin: 0;
    animation: backgroundChange 30s infinite;
    background-size: cover;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: 'Roboto', sans-serif;
    min-height: 100vh;
    
}
body::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.1); /* Light black transparency */
        backdrop-filter: blur(10px); /* Glass effect */
        -webkit-backdrop-filter: blur(10px); /* For Safari support */
        z-index: -1; /* Ensure it stays behind all content */
    }


    
@keyframes fadeInNavbar {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.hero {
    
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -1;
  }

  .cube {
    position: absolute;
    top: 80vh;
    left: 45vw;
    width: 10px;
    height: 10px;
    border: solid 1px rgba(131, 180, 176, 0.8);
    transform-origin: top left;
    transform: scale(0) rotate(0deg) translate(-50%, -50%);
    animation: cube 6s ease-in forwards infinite;
  }

  .cube:nth-child(2n) {
    border-color: rgba(96, 125, 139, 0.8);
  }

  .cube:nth-child(2) {
    animation-delay: 1s;
    left: 25vw;
    top: 40vh;
  }

  .cube:nth-child(3) {
    animation-delay: 2s;
    left: 75vw;
    top: 50vh;
  }

  .cube:nth-child(4) {
    animation-delay: 3s;
    left: 90vw;
    top: 10vh;
  }

  .cube:nth-child(5) {
    animation-delay: 4s;
    left: 10vw;
    top: 85vh;
  }

  .cube:nth-child(6) {
    animation-delay: 5s;
    left: 50vw;
    top: 10vh;
  }

  @keyframes cube {
    from {
      transform: scale(0) rotate(0deg) translate(-50%, -50%);
      opacity: 1;
    }
    to {
      transform: scale(20) rotate(960deg) translate(-50%, -50%);
      opacity: 0;
    }
  }

    /* Navbar */
    .navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: rgba(0, 0, 0, 0.8); /* Darker semi-transparent background */
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    z-index: 10;
    opacity: 1;  /* Visibility fix */
}

.navbar .logo {
    font-size: 24px;
    color: white;
    font-weight: bold;
}

.navbar ul {
    list-style: none;
    display: flex;
    gap: 15px;
}

.navbar ul li a {
    text-decoration: none;
    color: white;
    font-size: 18px;
    padding: 5px 10px;
    border-radius: 5px;
    transition: background 0.3s, color 0.3s;
}

.navbar ul li a:hover {
    background: white;
    color: black;
}
.feedback-card {
    position: relative;
    width: 400px;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.15); /* Semi-transparent white */
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.3); /* Soft white border */
    box-shadow: 15px 35px 35px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px); /* Glass effect */
    -webkit-backdrop-filter: blur(10px); /* For Safari */
    transform-style: preserve-3d;
    color: #fff; /* Optional: Make sure text is readable */
    animation: moveUp 1s ease forwards;
}
@keyframes moveUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


.sticker{
    position: absolute;
    font-size: 2rem;
    animation: float 3s ease-in-out infinite;
}
.sticker:nth-child(1){ top: -30px; left: -30px; animation-delay: 0.2s;}
.sticker:nth-child(2){ top: -20px; left: -40px; animation-delay: 0.5s;}
.sticker:nth-child(1){ bottom: -40px; left: 20px; animation-delay: 0.8s;}

.rating-container{
    display: flex;
    gap: 15px;
    margin: 2rem 0;
    justify-content: center;
}

.rating-emoji{
    width: 50px;
    height:50px;
    border: none;
    border-radius: 15px;
    background: #485460;
    cursor: pointer;
    transition: all 0.3s cubic-bazier(0.175, 0.885,0.32, 1.275);
    font-size: 24px;
}
.rating-emoji:hover{
    transform: scale(1.15) rotate(15deg);
    background: #a5b1c2;
}

.rating-emoji.selected{
    transform: scale(1.2);
    background: #0fbcf9;
    box-shadow: 0 8px 20px rgba(78, 205, 196, 0.3)
}
textarea {
    width: 92%;
    height: 100px;
    padding: 1rem;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 15px;
    resize: none;
    margin: 1rem 0;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.1); /* glassy background */
    color: black;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

textarea:focus{
    outline: none;
    border-color: #0fbcf9;
    box-shadow: 0 0 10px rgba(78, 205, 196, 0.2);
}
textarea::placeholder {
    color: rgba(0, 0, 0, 0.3); /* light, soft black */
    opacity: 1; /* ensure visibility */
}

.submit-btn {
  width: 100%;
  padding: 1rem;
  border: none;
  border-radius: 15px;
  background: linear-gradient(135deg, #0fbcf9, #4bcffa);
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}
.submit-btn:hover{
    transform: translateY(-2PX);
    box-shadow: 0 8px 15px rgpa(13, 196, 242, 0.3);
}
/* Custom Popup Styles */
.popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
   display: none; 
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.popup-content {
  background: rgba(255, 255, 255, 0.15); /* glassy white */
  padding: 2rem;
  border-radius: 20px;
  text-align: center;
  position: relative;
  transform: scale(0.8);
  opacity: 0;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  animation: popupAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  color: black; /* Make text readable */
}


.checkmark {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: #0fbcf9;
  margin: 0 auto 1rem;
  position: relative;
}
.checkmark::after {
  content: '';
  position: absolute;
  left: 20px;
  top: 40px;
  width: 30px;
  height: 5px;
  background: #1e272e;
  transform: rotate(45deg);
  border-radius: 2px;
}

.checkmark::before {
  content: '';
  position: absolute;
  left: 24px;
  top: 34px;
  width: 20px;
  height: 5px;
  background: #1e272e;
  transform: rotate(-45deg);
  border-radius: 2px;
}
@keyframes float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-20px) rotate(10deg);
  }
}

@keyframes popupAppear {
  to {
    transform: scale(1);
    opacity: 1;
  }
}

</style>
  
</head>
<body>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const ratingEmojis = document.querySelectorAll('.rating-emoji');
            const textarea = document.querySelector('textarea');
            let selectedRating = 0;

            ratingEmojis.forEach(emoji => {
                emoji.addEventListener('click', () => {
                    ratingEmojis.forEach(e => e.classList.remove('selected'));
                    emoji.classList.add('selected');
                    selectedRating = emoji.dataset.rating;
                });
            });

            window.showPopup = function () {
                const popup = document.getElementById('popup');
                if (selectedRating === 0) {
                    alert('Please select a rating first!');
                    return;
                }

                // Submit feedback to server
                fetch('/feedback/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    body: `rating=${selectedRating}&comment=${encodeURIComponent(textarea.value)}`
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        popup.style.display = 'flex';
                    } else {
                        alert(data.message || 'Error submitting feedback');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error submitting feedback');
                });
            }

            window.closePopup = function () {
                document.getElementById('popup').style.display = 'none';
                ratingEmojis.forEach(e => e.classList.remove('selected'));
                textarea.value = '';
                selectedRating = 0;
            }

            // Helper function to get CSRF token
            function getCookie(name) {
                let cookieValue = null;
                if (document.cookie && document.cookie !== '') {
                    const cookies = document.cookie.split(';');
                    for (let i = 0; i < cookies.length; i++) {
                        const cookie = cookies[i].trim();
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }
        });
    </script>
      
      
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">HandNet</div>
    <ul>
      <li><a href="{% url 'home' %}">Home</a></li>
      <li><a href="{% url 'prediction' %}">Image Prediction</a></li>
      <li><a href="{% url 'learning' %}">Learning</a></li>
      <li><a href="{% url 'aboutus' %}">About Us</a></li>
      <li><a href="{% url 'contact' %}">Contact</a></li>
      <li><a href="{% url 'feedback' %}">Feedback</a></li>
      {% if user.is_authenticated %}
        <li><a href="{% url 'profile' %}">Profile</a></li>
        <li><a href="{% url 'logout' %}">Logout</a></li>
      {% else %}
        <li><a href="{% url 'login' %}">Login</a></li>
        <li><a href="{% url 'signup' %}">Sign Up</a></li>
      {% endif %}
    </ul>
  </nav>

  
  <div class="feedback-card">
    <h2 style="text-align: center; margin-bottom: 1rem; color: black;">Give Me Your Feedback!!</h2>

    <div class="rating-container">
        <button class="rating-emoji" data-rating="1">😍</button>
        <button class="rating-emoji" data-rating="2">😊</button>
        <button class="rating-emoji" data-rating="3">🙂</button>
        <button class="rating-emoji" data-rating="4">😒</button>
        <button class="rating-emoji" data-rating="5">😕</button>
    </div>

    <textarea placeholder="Share your thoughts..."></textarea>
    <button class="submit-btn" onclick="showPopup()">Submit Feedback</button>
</div>

<div class="popup-overlay" id="popup">
    <div class="popup-content">
        <div class="checkmark"></div>
        <h3>Thank You!</h3>
        <p>Your feedback helps us improve!</p>
        <button class="submit-btn" onclick="closePopup()" style="margin-top: 1rem;">Close</button>
    </div>
</div>
  <!-- Hero Animation -->
  <div class="hero">
    <div class="cube"></div>
    <div class="cube"></div>
    <div class="cube"></div>
    <div class="cube"></div>
    <div class="cube"></div>
    <div class="cube"></div>
  </div>
</body>
</html> -